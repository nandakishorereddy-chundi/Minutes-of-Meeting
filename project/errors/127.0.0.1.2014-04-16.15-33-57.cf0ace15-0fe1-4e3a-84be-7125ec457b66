(dp1
S'output'
p2
S"<type 'exceptions.TypeError'> unsupported operand type(s) for +: 'NoneType' and 'str'"
p3
sS'layer'
p4
S'/home/satya/Desktop/web2py/applications/project/controllers/meet.py'
p5
sS'code'
p6
S'import os\n\ndef user():\n    """\n    exposes:\n    http://..../[app]/default/user/login\n    http://..../[app]/default/user/logout\n    http://..../[app]/default/user/register\n    http://..../[app]/default/user/profile\n    http://..../[app]/default/user/retrieve_password\n    http://..../[app]/default/user/change_password\n    http://..../[app]/default/user/manage_users (requires membership in\n    use @auth.requires_login()\n        @auth.requires_membership(\'group name\')\n        @auth.requires_permission(\'read\',\'table name\',record_id)\n    to decorate functions that need access control\n    """\n    return dict(form=auth())\n\n@auth.requires_login()\ndef mycal():\n    rows=db(db.t_appointment.created_by==auth.user.id).select()\n    return dict(rows=rows)\n\ndef index():\n\treturn dict()\n\n@auth.requires_login()\ndef first():\n    form = SQLFORM.factory(Field(\'meeting_name\',requires=IS_NOT_EMPTY()))\n    if form.process().accepted:\n        name = form.vars.meeting_name\n\tprint "first",DB.tables\n\tif name not in DB.tables:\n\t    DB.define_table(name,Field(\'body\',\'text\'),\n\t\t\t    Field(\'user_name\',\'string\'),migrate=True)#,format=lambda r: r.name or \'anonymous\')\n\t    DB.define_table(name+\'_\'+\'names\',Field(\'user_name\',\'string\'),migrate=True)#,format=lambda r: r.name or \'anonymous\')\n\t    DB.define_table(name+\'_\'+\'users\',Field(\'user_name\',\'string\'),migrate=True)\t\n\tredirect(URL(\'fourth\',vars=dict(name=name)))\n    return dict(form = form)\n\ndef second():\n     name = request.vars.name or redirect(URL(\'first\'))\n     tb = DB[name]\n     txt = DB().select(tb.ALL ,orderby=tb.id)\n     redirect(URL(\'fourth\',vars=dict(name=name)))\n\n\ndef fourth():\n    print "ur fourth"\n    name = request.vars.name or redirect(URL(\'first\'))\n    tb = DB[name]\n    tb1 = DB[name+\'_\'+\'names\']\n    text = DB().select(tb.ALL ,orderby=tb.id)\n    names = DB().select(tb1.ALL,orderby=tb1.id)\n    form = SQLFORM.factory(Field(\'file\',\'upload\',uploadfolder=os.path.join(request.folder,\'uploads\'),requires=IS_NOT_EMPTY()),\n                                                                                          Field(\'user_name\',requires=IS_NOT_EMPTY()))\n    if form.vars.file and form.process().accepted:\n    \tresponse.flash = T("Ur file is uploaded!")\n    return dict(text = text,name=name,names=names,form=form)\n\ndef startmeeting():\n    import time\n    session.b=time.strftime("%H:%M:%S")\n    a=session.b\n    name = request.vars.name\n    tb = DB[name]\n    tb1 = DB[name+\'_\'+\'names\']\n    text = DB().select(tb.ALL ,orderby=tb.id)\n    names = DB().select(tb1.ALL,orderby=tb1.id)\n    return dict(text = text,name=name,names=names,a=a)\n\n\ndef fileupload():\n\tform = SQLFORM.factory(Field(\'file\',\'upload\',uploadfolder=os.path.join(request.folder,\'uploads\')),Field(\'user_name\',requires=IS_NOT_EMPTY()))\n \tif form.vars.file and form.process().accepted:\n            response.flash = T("Ur file is uploaded!")\n\treturn dict(form=form)\n\ndef sixth():\n    name = request.get_vars[\'start\'].split(\'/\')\n    tb = DB[name[0]]\n    j = tb(int(name[1])) or redirect(URL(\'fourth\'))\n    return dict(name=j)\n\ndef seventh():\n    name = request.get_vars[\'start\'].split(\'/\')\n    tb = DB[name[0]]\n    tb.insert(body=name[1],user_name=name[2])\n    text = DB().select(tb.ALL ,orderby=tb.id)\n    name = name[0]\n    return dict(text=text,name=name)\n\ndef eight():\n    name = request.get_vars[\'start\'].split(\'/\')\n    tb = DB[name[0]]\n    txt = DB().select(tb.ALL ,orderby=tb.id)\n    return dict(text=txt,name=name[1])\n\ndef ninth():\n    name = request.get_vars[\'start\'].split(\'/\')\n    print name\n    table_name=name[0]+\'_names\'\n    table=DB[table_name]\n    print "user_nmae",table\n    text = DB().select(table.ALL ,orderby=table.id)\n    print text\n    flag=0\n    for i in text:\n        if i.user_name == name[1]:\t\n\t    flag=1\n            print "flag set"\n    if flag == 0:\t\n        table.insert(user_name=name[1])\n    response.flash=T("user added to the meeting")\t\n    return dict(text = text) \n\n@auth.requires_login()\ndef tenth():\n\tuser=\'%(first_name)s\'%auth.user\n        print user\n\tform = SQLFORM.factory(Field(\'meeting\',requires=IS_NOT_EMPTY()))\n\tif form.process().accepted:\n\t\tname=form.vars.meeting\n\t\ttb=DB[name+\'_\'+\'users\']\n\t\ttb.insert(user_name=user)\n\t\tprint user+\'i am user\'\n\treturn dict(form=form)\n\ndef search():\n\treturn dict()\n\ndef adduser():\n\tmeeting_name=request.vars.meeting_name\t\n\tsession.meeting_name=meeting_name\n\tprint "addusr",meeting_name\n\tmeeting_name=meeting_name+\'_users\'\n\ttb=DB[meeting_name]\n\ttext = DB().select(tb.ALL ,orderby=tb.id)\n\tsession.list=[]\n\tfor row in text:\n\t\tflag=0\n\t\tfor i in session.list:\n\t\t\tif i == row.user_name:\n\t\t\t\tflag=1\n\t        if flag is 0:\n\t\t\tprint row.user_name\n\t\t\tsession.list.append(row.user_name)\n\treturn dict()\n\n\n\nresponse._vars=response._caller(adduser)\n'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "/home/satya/Desktop/web2py/gluon/restricted.py", line 217, in restricted\n    exec ccode in environment\n  File "/home/satya/Desktop/web2py/applications/project/controllers/meet.py", line 153, in <module>\n  File "/home/satya/Desktop/web2py/gluon/globals.py", line 385, in <lambda>\n    self._caller = lambda f: f()\n  File "/home/satya/Desktop/web2py/applications/project/controllers/meet.py", line 137, in adduser\n    meeting_name=meeting_name+\'_users\'\nTypeError: unsupported operand type(s) for +: \'NoneType\' and \'str\'\n'
p11
s.